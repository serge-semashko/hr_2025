<!DOCTYPE html>
<head>

</head>
<body>
<script>

        var topdivs = [{
            color_rgb: [128, 128, 0]
            , pname: "Руководство"
            , shortname: ""
            , pcode: 601000
            , subdivs: {}
        , }
        , {
            color_rgb: [0, 255, 255]
            , pname: "Сектор ученого секретаря"
            , shortname: ""
            , pcode: 609000
            , subdivs: {}
        , }
        , {
            color_rgb: [128, 0, 128]
            , pname: "Группа по делопроизводству, кадрам и материально-техническому снабжению"
            , shortname: ""
            , pcode: 606000
            , subdivs: {}
        , }
        , {
            color_rgb: [255, 0, 0]
            , pname: "Научный отдел вычислительной физики"
            , shortname: ""
            , pcode: 607000
            , subdivs: {
                607010: {
                    color_rgb: [255, 0, 0]
                    , pname: "Сектор №1 методов моделирования физических процессов и анализа данных наблюдений"
                }
                , 607020: {
                    color_rgb: [255, 0, 0]
                    , pname: "Сектор №2 методов моделирования нелинейных систем"
                }
                , 607030: {
                    color_rgb: [255, 0, 0]
                    , pname: "Сектор №3 методов решения задач математической физики"
                }
                , 607040: {
                    color_rgb: [255, 0, 0]
                    , pname: "Сектор №4 расчетов сложных физических систем"
                }
                , 607050: {
                    color_rgb: [255, 0, 0]
                    , pname: "Сектор №5 алгебраических и квантовых вычислений"
                }
            , }
        , }
        , {
            color_rgb: [0, 255, 0]
            , pname: "Научно-технический отдел внешних коммуникаций и распределенных информационных систем"
            , shortname: ""
            , pcode: 602000
            , subdivs: {
                602010: {
                    color_rgb: [0, 255, 0]
                    , pname: "Сектор №1 распределенных систем"
                }
                , 602050: {
                    color_rgb: [0, 255, 0]
                    , pname: "Сектор №2 гетерогенных вычислений и квантовой информатики"
                }
                , 602020: {
                    color_rgb: [0, 255, 0]
                    , pname: "Сектор №2 программных серверов и управляющих ЭВМ"
                }
                , 602030: {
                    color_rgb: [0, 255, 0]
                    , pname: "Сектор №3 распределенных информационных систем и баз данных"
                }
                , 634000: {
                    color_rgb: [0, 255, 0]
                    , pname: "Сектор №4 развития и сопровождения административных информационных систем"
                }
            , }
        , }
        , {
            color_rgb: [255, 0, 255]
            , pname: "Научно-технический отдел программного и информационного обеспечения"
            , shortname: ""
            , pcode: 608000
            , subdivs: {
                608050: {
                    color_rgb: [255, 0, 255]
                    , pname: "Группа автоматизированных систем управления"
                }
                , 608010: {
                    color_rgb: [255, 0, 255]
                    , pname: "Сектор №1 сопровождения центральных информационных серверов ОИЯИ и средств презентаций"
                }
                , 608020: {
                    color_rgb: [255, 0, 255]
                    , pname: "Сектор №2 разработки математического обеспечения на базе больших программных комплексов и средств визуализации данных"
                }
                , 608030: {
                    color_rgb: [255, 0, 255]
                    , pname: "Сектор №3 развития и стандартизации прикладного программного обеспечения"
                }
                , 608040: {
                    color_rgb: [255, 0, 255]
                    , pname: "Сектор №4 распределенных систем реального времени"
                }
            , }
        , }
        , {
            color_rgb: [128, 0, 128]
            , pname: "Отдел производственно-технического и хозяйственного обслуживания"
            , shortname: ""
            , pcode: 643000
            , subdivs: {
                643001: {
                    color_rgb: [128, 0, 128]
                    , pname: "Группа №1 обслуживания"
                }
                , 643002: {
                    color_rgb: [128, 0, 128]
                    , pname: "Группа №2 по делопроизводству и кадрам"
                }
                , 643003: {
                    color_rgb: [128, 0, 128]
                    , pname: "Группа №3 ремонта"
                }
                , 643004: {
                    color_rgb: [128, 0, 128]
                    , pname: "Группа №4 материально-технического снабжения"
                }
            , }
        , }
        , {
            color_rgb: [0, 0, 255]
            , pname: "Инженерно-технологический отдел"
            , shortname: ""
            , pcode: 613000
            , subdivs: {
                613004: {
                    color_rgb: [0, 0, 255]
                    , pname: "Группа № 2 технической поддержки серверов и компьютерного парка ЛИТ"
                }
                , 613003: {
                    color_rgb: [0, 0, 255]
                    , pname: "Группа № 3 эксплуатации технологических систем"
                }
                , 613001: {
                    color_rgb: [0, 0, 255]
                    , pname: "Группа №1 электротехнологическая"
                }
                , 613010: {
                    color_rgb: [0, 0, 255]
                    , pname: "Сектор развития и эксплуатации сетевой инфраструктуры ОИЯИ"
                }
            , }
        , }];
function rgb2hsv ([r, g, b]) {
    let rabs, gabs, babs, rr, gg, bb, h, s, v, diff, diffc, percentRoundFn;
    rabs = r / 255;
    gabs = g / 255;
    babs = b / 255;
    v = Math.max(rabs, gabs, babs),
    diff = v - Math.min(rabs, gabs, babs);
    diffc = c => (v - c) / 6 / diff + 1 / 2;
    percentRoundFn = num => Math.round(num * 100) / 100;
    if (diff == 0) {
        h = s = 0;
    } else {
        s = diff / v;
        rr = diffc(rabs);
        gg = diffc(gabs);
        bb = diffc(babs);

        if (rabs === v) {
            h = bb - gg;
        } else if (gabs === v) {
            h = (1 / 3) + rr - bb;
        } else if (babs === v) {
            h = (2 / 3) + gg - rr;
        }
        if (h < 0) {
            h += 1;
        }else if (h > 1) {
            h -= 1;
        }
    }
    return [
         Math.round(h * 360),
         percentRoundFn(s * 100),
         percentRoundFn(v * 100)
];
}        
function check_hsv(i) {
    if (i.color_hsv ===undefined){
         if (i.color_rgb ===undefined){
            var a=1;
         } else{
            i.color_hsv = rgb2hsv(i.color_rgb);
         }
    }

} ;

for (i in topdivs)        {
    check_hsv(topdivs[i])
}


document.write(JSON.stringify(topdivs));
</script>
</body>